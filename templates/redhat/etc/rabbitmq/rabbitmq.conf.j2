### Port config
## If not use non-TLS port
# listeners.tcp = none
## If use non-TLS port
listeners.tcp.default = {{ ansible_host }}:{{ rabbitmq_port }}

### TLS config
listeners.ssl.default = {{ ansible_host }}:{{ rabbitmq_tls_port }}
ssl_options.cacertfile = {{ tls_server_ca_cert }}
ssl_options.certfile   = {{ tls_server_cert }}
ssl_options.keyfile    = {{ tls_server_key }}
## If use client certificate
# ssl_options.verify     = verify_peer
# ssl_options.fail_if_no_peer_cert = true
## If not use client certificate
ssl_options.verify     = verify_none
ssl_options.fail_if_no_peer_cert = false
